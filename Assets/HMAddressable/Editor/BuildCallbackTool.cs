

using UnityEditor;
using UnityEditor.Build.Reporting;

namespace HM.Editor
{
   
    public class BuildCallbackTool:UnityEditor.Build.IPreprocessBuildWithReport
    {
        public int callbackOrder { get; }
        public void OnPreprocessBuild(BuildReport report)
        {

            if (EditorUserBuildSettings.activeBuildTarget == BuildTarget.Android)
            {
                PlayerSettings.Android.useAPKExpansionFiles =
                    HMAddressablesEditor.ConfigHmAddressables.UseGooglePlayAssetDelivery;
                //HMAddressablesEditor.ConfigHmAddressables.OnUseGooglePlayAssetDelivery();
            }
        }
    }
}